import sqlite3        # Knjižnica za delo z bazo
import csv            # Knjižnica za delo s CSV datotekami
import re             # Knjižnica za delo z regularnimi izrazi
import sys            # Knjižnica za komunikacijo s sistemom

### Nastavitve
# Datoteka, v kateri je baza
BAZA = "prevoznistvo.sqlite3"

### Program

# NAREDIMO BAZO, ČE JE ŠE NIMAMO

# Naredimo povezavo z bazo. Funkcija sqlite3.connect vrne objekt,
# ki hrani podatke o povezavi z bazo.
baza = sqlite3.connect(BAZA)

# Naredimo tabelo tovornjak
baza.execute('''CREATE TABLE IF NOT EXISTS tovornjak (
  registrska TEXT PRIMARY KEY,
  nosilnost INTEGER NOT NULL,
  emso TEXT NOT NULL,
  ime TEXT NOT NULL,
  priimek TEXT NOT NULL
  )''')
  
baza.execute('''CREATE TABLE IF NOT EXISTS prevoz (
  id SERIAL PRIMARY KEY,
  datum DATE NOT NULL,
  kolicina INTEGER,
  cena_tone INTEGER,
  zacetek TEXT,
  konec TEXT
)''')

baza.execute('''CREATE TABLE IF NOT EXISTS mesecni_stroski (
  registrska TEXT REFERENCES tovornjak(registrska),
  mesec TEXT PRIMARY KEY,
  gorivo INTEGER
  popravilo
)''')

baza.execute('''CREATE TABLE IF NOT EXISTS cestnina (
  registrska TEXT REFERENCES tovornjak(registrska),
  mesec TEXT REFERENCES mesecni_stroski(mesec),
  italija INTEGER,
  slovenija INTEGER,
  madzarska INTEGER,
  hrvaska INTEGER,
  avstrija INTEGER
)''')
